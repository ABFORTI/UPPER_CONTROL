graph LR
    %% Actores principales a la izquierda
    Cliente([👤<br/>Cliente])
    Coordinador([👤<br/>Coordinador])
    TeamLeader([👤<br/>Team Leader])
    Calidad([👤<br/>Calidad])
    Facturacion([👤<br/>Facturación])
    Admin([👤<br/>Admin])

    %% Módulos de casos de uso (más compactos)
    subgraph S1[" 📝 Solicitudes "]
        UC1[Crear/Ver<br/>Solicitudes]
        UC2[Aprobar/<br/>Rechazar]
    end

    subgraph S2[" 📋 Órdenes de Trabajo "]
        UC3[Generar OT]
        UC4[Asignar<br/>Team Leader]
        UC5[Avances y<br/>Evidencias]
    end

    subgraph S3[" ✅ Validación "]
        UC6[Revisión<br/>Calidad]
        UC7[Autorización<br/>Cliente]
    end

    subgraph S4[" 💰 Facturación "]
        UC8[Crear y<br/>Gestionar]
        UC9[Subir XML<br/>y Marcar Estados]
    end

    subgraph S5[" ⚙️ Admin y Reportes "]
        UC10[Gestión de<br/>Catálogos]
        UC11[Dashboard y<br/>Exportación]
        UC12[Backups y<br/>Seguridad]
    end

    %% Relaciones Cliente (simplificadas)
    Cliente -.-> UC1
    Cliente -.-> UC7

    %% Relaciones Coordinador
    Coordinador --> UC1
    Coordinador --> UC2
    Coordinador --> UC3
    Coordinador --> UC4
    Coordinador --> UC11

    %% Relaciones Team Leader
    TeamLeader --> UC5
    TeamLeader -.-> UC11

    %% Relaciones Calidad
    Calidad --> UC6
    Calidad -.-> UC11

    %% Relaciones Facturación
    Facturacion --> UC8
    Facturacion --> UC9
    Facturacion -.-> UC11

    %% Relaciones Admin (líneas punteadas para no saturar)
    Admin ==> UC2
    Admin ==> UC10
    Admin ==> UC11
    Admin ==> UC12
    Admin -.-> UC8
    Admin -.-> UC9

    %% Estilos modernos y limpios
    classDef actorStyle fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef moduloStyle fill:#fff,stroke:#666,stroke-width:1px
    
    class Cliente,Coordinador,TeamLeader,Calidad,Facturacion,Admin actorStyle
    
    style S1 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style S2 fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style S3 fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style S4 fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style S5 fill:#ffebee,stroke:#d32f2f,stroke-width:2px
