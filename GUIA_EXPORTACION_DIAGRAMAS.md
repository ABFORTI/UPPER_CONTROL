# üì§ Gu√≠a de Exportaci√≥n de Diagramas

## üéØ C√≥mo Exportar los Diagramas para tu Documentaci√≥n

---

## üöÄ M√âTODO 1: Mermaid Live Editor (RECOMENDADO - M√ÅS F√ÅCIL)

### ‚úÖ Paso a Paso

1. **Abre Mermaid Live Editor**
   - URL: https://mermaid.live/

2. **Copia el c√≥digo del diagrama**
   - Abre cualquier archivo `.md` (ej: `DIAGRAMAS.md`)
   - Copia todo el c√≥digo entre los bloques ` ```mermaid ` y ` ``` `

3. **Pega en Mermaid Live**
   - Pega el c√≥digo en el panel izquierdo
   - El diagrama se renderiza autom√°ticamente a la derecha

4. **Exporta en el formato deseado**
   - Click en **"Actions"** (parte superior derecha)
   - Selecciona formato:
     - **PNG** - Para documentos Word, PowerPoint, PDFs
     - **SVG** - Para web, escalable sin perder calidad
     - **Markdown** - Para otros archivos Markdown

5. **Descarga**
   - El archivo se descarga autom√°ticamente
   - √ösalo en tu documentaci√≥n

### üìä Ejemplo Pr√°ctico

**C√≥digo del diagrama de casos de uso:**
```mermaid
graph TD
    Cliente[üë§ Cliente] --> UC1[Solicitar Servicio]
    Cliente --> UC2[Autorizar OT]
    Cliente --> UC3[Ver Facturas]
```

**Pasos:**
1. Copia ese c√≥digo completo
2. Pega en https://mermaid.live/
3. Click en "Actions" ‚Üí "PNG image"
4. Guarda como `casos-uso.png`

### üé® Configuraci√≥n de Calidad

En Mermaid Live puedes ajustar:
- **Tema**: Light, Dark, Forest, Default
- **Escala**: 1x, 2x, 3x (mayor = mejor calidad)
- **Fondo**: Transparente o blanco

---

## üñ•Ô∏è M√âTODO 2: VS Code con Extensi√≥n (Para Desarrolladores)

### üì¶ Instalaci√≥n

1. **Instala la extensi√≥n**
   - Abre VS Code
   - Ve a Extensions (Ctrl+Shift+X)
   - Busca: **"Markdown Preview Mermaid Support"**
   - Click en "Install"

2. **Instala extensi√≥n de exportaci√≥n**
   - Busca: **"Mermaid Export"** o **"Markdown PDF"**
   - Click en "Install"

### ‚úÖ Exportar desde VS Code

#### Opci√≥n A: Captura de Pantalla (R√°pido)
1. Abre el archivo `.md` (ej: `DIAGRAMAS.md`)
2. Presiona `Ctrl+Shift+V` (Vista previa)
3. Haz zoom al diagrama que quieres
4. Toma captura con Windows Snipping Tool (Win+Shift+S)
5. Guarda la imagen

#### Opci√≥n B: Markdown PDF Extension
1. Abre el archivo `.md`
2. Presiona `Ctrl+Shift+P`
3. Escribe: "Markdown PDF: Export (pdf)"
4. Selecciona formato: PDF, PNG, o JPEG
5. El archivo se guarda autom√°ticamente

---

## üåê M√âTODO 3: GitHub Directo (Sin Herramientas)

### ‚úÖ Paso a Paso

1. **Abre el diagrama en GitHub**
   - Visita: https://github.com/ABFORTI/UPPER_CONTROL/blob/Diseno/DIAGRAMAS.md
   - GitHub renderiza autom√°ticamente los diagramas

2. **Toma captura de pantalla**
   - **Windows**: Win+Shift+S
   - **Mac**: Cmd+Shift+4
   - Selecciona el √°rea del diagrama

3. **Guarda la imagen**
   - Pega en Paint/Photoshop
   - Guarda como PNG o JPG

4. **Usa en tu documentaci√≥n**

### üí° Tips para Mejor Calidad
- Haz zoom en el navegador (Ctrl++)
- Usa monitor de alta resoluci√≥n
- Captura en modo oscuro o claro seg√∫n necesites
- Recorta los bordes innecesarios

---

## üîß M√âTODO 4: Mermaid CLI (Para Automatizaci√≥n)

### üì¶ Instalaci√≥n

```powershell
# Requiere Node.js instalado
npm install -g @mermaid-js/mermaid-cli
```

### ‚úÖ Uso

```powershell
# Exportar un diagrama espec√≠fico
mmdc -i diagrama.mmd -o diagrama.png

# Con tema personalizado
mmdc -i diagrama.mmd -o diagrama.png -t forest

# SVG en vez de PNG
mmdc -i diagrama.mmd -o diagrama.svg

# PDF directo
mmdc -i diagrama.mmd -o diagrama.pdf
```

### üìù Preparar archivo .mmd

1. Copia el c√≥digo del diagrama
2. Guarda en archivo `mi-diagrama.mmd` (sin los ` ```mermaid `)
3. Ejecuta comando mmdc

**Ejemplo:**
```powershell
# Crear archivo casos-uso.mmd con el c√≥digo del diagrama
mmdc -i casos-uso.mmd -o casos-uso.png -b transparent
```

---

## üìã M√âTODO 5: Script de Exportaci√≥n Masiva

### üöÄ Script PowerShell Autom√°tico

Te creo un script que exporta todos los diagramas autom√°ticamente:

```powershell
# Guardar como: exportar-diagramas.ps1

# Directorio de salida
$outputDir = "diagramas-exportados"
New-Item -ItemType Directory -Force -Path $outputDir

# Archivos con diagramas
$archivos = @(
    "DIAGRAMAS.md",
    "DIAGRAMAS_TECNICOS.md",
    "DIAGRAMAS_SECUENCIA.md"
)

foreach ($archivo in $archivos) {
    Write-Host "Procesando: $archivo" -ForegroundColor Green
    
    # Leer contenido
    $content = Get-Content $archivo -Raw
    
    # Extraer bloques mermaid
    $pattern = '(?s)```mermaid\r?\n(.*?)\r?\n```'
    $matches = [regex]::Matches($content, $pattern)
    
    $counter = 1
    foreach ($match in $matches) {
        $mermaidCode = $match.Groups[1].Value
        $fileName = "$outputDir\$($archivo -replace '\.md$','')-$counter.mmd"
        
        # Guardar c√≥digo
        Set-Content -Path $fileName -Value $mermaidCode
        
        Write-Host "  Extra√≠do: $fileName" -ForegroundColor Cyan
        $counter++
    }
}

Write-Host "`n‚úÖ Diagramas extra√≠dos en: $outputDir" -ForegroundColor Green
Write-Host "Usa: mmdc -i archivo.mmd -o archivo.png para convertir" -ForegroundColor Yellow
```

**Uso:**
```powershell
# Ejecutar script
.\exportar-diagramas.ps1

# Luego convertir todos a PNG
Get-ChildItem .\diagramas-exportados\*.mmd | ForEach-Object {
    $pngFile = $_.FullName -replace '\.mmd$', '.png'
    mmdc -i $_.FullName -o $pngFile -b transparent
}
```

---

## üìä COMPARACI√ìN DE M√âTODOS

| M√©todo | Facilidad | Calidad | Velocidad | Automatizaci√≥n |
|--------|-----------|---------|-----------|----------------|
| **Mermaid Live** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚ùå |
| **VS Code** | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê |
| **GitHub Screenshot** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚ùå |
| **Mermaid CLI** | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **Script PowerShell** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |

---

## üéØ RECOMENDACIONES POR CASO DE USO

### üìÑ Para Documentaci√≥n en Word/PDF
**Recomendado**: Mermaid Live ‚Üí PNG
- Alta calidad
- F√°cil de insertar
- No requiere instalaci√≥n

### üåê Para Documentaci√≥n Web
**Recomendado**: Mermaid Live ‚Üí SVG
- Escalable
- Peso ligero
- Se ve perfecto en cualquier tama√±o

### üìä Para Presentaciones (PowerPoint)
**Recomendado**: Mermaid Live ‚Üí PNG (2x o 3x)
- Buena resoluci√≥n en proyectores
- F√°cil de insertar
- Colores consistentes

### üìñ Para Manual de Usuario (PDF)
**Recomendado**: Mermaid CLI ‚Üí PDF
- Vectorial
- Alta calidad de impresi√≥n
- Profesional

### üîÑ Para Documentaci√≥n que se actualiza frecuentemente
**Recomendado**: Script PowerShell + Mermaid CLI
- Automatizado
- Consistente
- F√°cil de regenerar

---

## üíº CASOS PR√ÅCTICOS

### Caso 1: Manual de Usuario en Word

```powershell
# Pasos:
1. Abre https://mermaid.live/
2. Copia diagrama de DIAGRAMAS.md
3. Ajusta tema a "default" (mejor para impresi√≥n)
4. Actions ‚Üí PNG image (Scale: 2x)
5. Inserta en Word (Insertar ‚Üí Imagen)
```

### Caso 2: Presentaci√≥n para Cliente

```powershell
# Pasos:
1. Abre GitHub: DIAGRAMAS.md
2. Haz zoom al 150%
3. Win+Shift+S para capturar
4. Pega en PowerPoint
5. Ajusta tama√±o
```

### Caso 3: Wiki Interna (Confluence, Notion)

```powershell
# Pasos:
1. Usa Mermaid Live
2. Exporta como SVG
3. Sube a tu Wiki
4. Ventaja: Se ve perfecto en cualquier tama√±o
```

### Caso 4: Documentaci√≥n T√©cnica (PDF)

```powershell
# Con Mermaid CLI:
mmdc -i DIAGRAMAS.md -o arquitectura.pdf

# O exporta m√∫ltiples:
Get-ChildItem *.md | ForEach-Object {
    mmdc -i $_.Name -o "$($_.BaseName).pdf"
}
```

---

## üé® PERSONALIZANDO LOS DIAGRAMAS

### Temas Disponibles en Mermaid Live

```
default    - Colores est√°ndar (el que usamos)
forest     - Tonos verdes
dark       - Fondo oscuro
neutral    - Grises suaves
base       - Minimalista
```

### Cambiar Tema Antes de Exportar

En Mermaid Live:
1. Pega tu c√≥digo
2. Click en "Configuration"
3. Cambia "theme" a tu preferencia
4. Exporta

### Para Fondo Transparente

```powershell
# Con Mermaid CLI:
mmdc -i diagrama.mmd -o diagrama.png -b transparent
```

---

## üì± EXPORTAR PARA DIFERENTES FORMATOS

### Para Word (.docx)
‚úÖ **Formato**: PNG
‚úÖ **Escala**: 2x
‚úÖ **Fondo**: Blanco
‚úÖ **Tema**: default

### Para PowerPoint (.pptx)
‚úÖ **Formato**: PNG
‚úÖ **Escala**: 3x (pantallas grandes)
‚úÖ **Fondo**: Transparente
‚úÖ **Tema**: dark o default

### Para PDF Impreso
‚úÖ **Formato**: SVG o PDF
‚úÖ **Tema**: default
‚úÖ **Fondo**: Blanco

### Para Sitio Web
‚úÖ **Formato**: SVG
‚úÖ **Tema**: el que usas en tu web
‚úÖ **Fondo**: Transparente

### Para Email
‚úÖ **Formato**: PNG
‚úÖ **Escala**: 1x o 2x (peso ligero)
‚úÖ **Fondo**: Blanco

---

## üîç SOLUCI√ìN DE PROBLEMAS

### Problema: "El diagrama se ve borroso en Word"
**Soluci√≥n**: Exporta con escala 2x o 3x en Mermaid Live

### Problema: "Los colores se ven diferentes"
**Soluci√≥n**: Usa el mismo tema al exportar todos los diagramas

### Problema: "El archivo PNG pesa mucho"
**Soluci√≥n**: 
- Reduce escala a 1x
- Usa formato SVG (pesa menos)
- Comprime con herramientas online

### Problema: "No se instala Mermaid CLI"
**Soluci√≥n**:
```powershell
# Verifica Node.js
node --version

# Si no est√° instalado, descarga de: https://nodejs.org/

# Instala CLI globalmente
npm install -g @mermaid-js/mermaid-cli
```

### Problema: "El texto se corta en la exportaci√≥n"
**Soluci√≥n**: 
- Ajusta tama√±o en Mermaid Live
- Exporta como SVG (escala mejor)
- Aumenta resoluci√≥n de exportaci√≥n

---

## üìö RECURSOS ADICIONALES

### Herramientas Online
- **Mermaid Live**: https://mermaid.live/
- **Kroki**: https://kroki.io/ (alternativa)
- **Diagrams.net**: https://app.diagrams.net/ (si quieres editar despu√©s)

### Extensiones VS Code
- **Markdown Preview Mermaid Support**
- **Mermaid Export**
- **Markdown PDF**
- **Draw.io Integration** (para editar)

### Conversores Online
- **CloudConvert**: https://cloudconvert.com/ (SVG ‚Üí PNG)
- **TinyPNG**: https://tinypng.com/ (comprimir PNG)
- **SVGOMG**: https://jakearchibald.github.io/svgomg/ (optimizar SVG)

---

## üìã CHECKLIST DE EXPORTACI√ìN

### Antes de Exportar
- [ ] Verifica que el diagrama se ve correcto
- [ ] Decide el formato necesario (PNG/SVG/PDF)
- [ ] Elige tema apropiado
- [ ] Define escala de calidad

### Durante la Exportaci√≥n
- [ ] Usa configuraci√≥n consistente
- [ ] Nombra archivos descriptivamente
- [ ] Organiza en carpeta dedicada

### Despu√©s de Exportar
- [ ] Verifica calidad de la imagen
- [ ] Prueba en documento destino
- [ ] Documenta qu√© diagrama es cada archivo

---

## üéì MEJORES PR√ÅCTICAS

### ‚úÖ DO (Hacer)
- Exporta con alta calidad (2x m√≠nimo)
- Usa nombres descriptivos (`arquitectura-sistema.png`)
- Mant√©n tema consistente en todos
- Guarda versi√≥n SVG como backup
- Organiza en carpetas por tipo

### ‚ùå DON'T (No Hacer)
- No uses captura de pantalla de baja calidad
- No mezcles temas diferentes
- No uses nombres gen√©ricos (`diagrama1.png`)
- No exportes todo si solo necesitas algunos
- No olvides actualizar cuando cambies c√≥digo

### üìÅ Estructura Recomendada
```
documentacion/
‚îú‚îÄ‚îÄ imagenes/
‚îÇ   ‚îú‚îÄ‚îÄ arquitectura/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ arquitectura-general.png
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stack-tecnologico.png
‚îÇ   ‚îú‚îÄ‚îÄ flujos/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ flujo-principal.png
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ flujo-facturacion.png
‚îÇ   ‚îî‚îÄ‚îÄ secuencia/
‚îÇ       ‚îú‚îÄ‚îÄ crear-solicitud.png
‚îÇ       ‚îî‚îÄ‚îÄ proceso-facturacion.png
‚îî‚îÄ‚îÄ originales/
    ‚îî‚îÄ‚îÄ *.mmd (archivos fuente)
```

---

## üöÄ INICIO R√ÅPIDO (TL;DR)

### Para Exportar UN Diagrama R√°pido:

1. Copia c√≥digo del diagrama de cualquier archivo `.md`
2. Pega en https://mermaid.live/
3. Click "Actions" ‚Üí "PNG image"
4. ¬°Listo! Usa en tu doc

### Para Exportar TODOS Autom√°ticamente:

```powershell
# 1. Instala Mermaid CLI
npm install -g @mermaid-js/mermaid-cli

# 2. Crea carpeta
mkdir diagramas-exportados

# 3. Exporta (usa el script que te proporcion√© arriba)
```

---

## üìû ¬øNecesitas Ayuda?

### Documentaci√≥n Oficial
- **Mermaid**: https://mermaid.js.org/
- **Mermaid CLI**: https://github.com/mermaid-js/mermaid-cli

### Videos Tutorial
- Busca en YouTube: "Mermaid diagram export"
- Busca en YouTube: "Mermaid CLI tutorial"

---

**üí° Tip Final**: Para documentaci√≥n profesional, usa **Mermaid Live con escala 2x en PNG**. Es el balance perfecto entre calidad y facilidad.

---

**Fecha**: 14 de octubre de 2025  
**Sistema**: UPPER_CONTROL  
**Autor**: GitHub Copilot

**¬°√âxito exportando tus diagramas! üéâ**
